#  Quiz

## Defensive Programming

### Question 1

One class method receives garbage input. What is the worst that the method can do?

- [ ] Compute on the garbage and return garbage
- [ ] Compute on the garbage and throw an error, crashing the entire program
- [ ] Immediately throw an exception and stop the execution of the program
- [ ] Compute on the garbage and modify program state in some unspecified way
- [ ] Sanitize the garbage and pass the sanitized input to another method
- [ ] Ignore the input and not execute
- [ ] Attempt to compute on the garbage and throw a confusing exception

### Question 2

For which of the following exceptional conditions is a RuntimeException more suitable than a checked exception? (Check all that apply)

- [ ] A division by zero occurs inside some matrix processing code
- [ ] A TCP connection is interrupted while fetching a URL
- [ ] A negative number is passed to a natural logarithm function
- [ ] A null object is passed to a sorting function

### Question 3

Which of the following are true? Choose all that apply.

- [ ] It is a good practice to use exceptions for control flow transfer if we want the execution to reach the upper levels of the program stack trace quickly
- [ ] It is a good practice to recover and continue program execution after a failed assertion
- [ ] Defensive programming makes explicit what assumptions the code makes about program inputs
- [ ] Exceptions are essentially assertions with a message

### Question 4

Which of the following is good defensive programming for a public method?

- [ ] an assertion that checks if all the method's preconditions are satisfied
- [ ] a series of checks that ensure all of the method's preconditions are satisfied and throw an AssertionError if not
- [ ] a series of checks that ensure all of the method's preconditions are satisfied and throw an exception if not

### Question 5

Security software often choose either _whitelisting_ or _blacklisting_ as the technique to restrict access to operations which require additional user privileges. Read about these techniques and select all statements which are true below when these techniques are applied to defensive programming:

- [ ] Blacklisting can only protect against known bad inputs.
- [ ] Anti-virus software is based on whitelisting.
- [ ] Whitelisting is easy to scale to large input patterns.
- [ ] Blacklisting is more secure than whitelisting.

## Code contracts

A programmer wrote a method "max" that computes the maximum of two numbers. He wrote the following postcondition:
```
@Ensures({
    "result >= a",
    "result >= b"
})
int max(int a, int b) {
    ...
}
```
Which of the following statements are true about the post-condition:

- [ ] If max(3, 5) returned 3, the post-condition would be violated
- [ ] If max(3, 5) returned 5, the post-condition would be satisfied
- [ ] If max(3, 5) returned 8, the post-condition would be violated
- [ ] The post-condition should also contain "result == a && result == b" to describe the correct semantics of the code

Check the correct statement(s):

- [ ] The exceptions generated by a non-respected contract must always be considered fatal.
- [ ] In class inheritance, code contracts are inherited as follows: it is possible to add postconditions or remove preconditions, but not possible to remove postconditions or add preconditions (video at 7:52). This inheritance can be directly derived from Liskov's Substitution Principle.
- [ ] Suppose that a class has an audit method that fully checks the representation invariant. The audit method is called directly after instantiation and after every public method. This can be seen as an internal code contract for the class.
